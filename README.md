# Для корректной работы системы необходимо:
1. Создать и запустить виртуальное окружение
2. Установить все зависимости указанные в requirements.txt
3. Создать в корне проекта файл .env и внести в него все переменные окружения по образцу из файла .env.sample (по умолчанию в системе используется база данных PostgeSQL)
4. Запустить миграции
5. Создать администратора с помощью команды "python manage.py csu"
6. Установить и запустить redis в глобальном окружении
7. Запустить проект
8. В виртуальном окружении проекта запустить celery worker командой "celery -A config worker -l INFO"
9. В виртуальном окружении проекта запустить celery beat командой "celery -A config beat -l info -S django"
10. Для получения уведомлений в телеграм необходимо найти бота http://t.me/habit_tracker_superbot
# Логика работы системы
Пользователь создает себе список полезных привычек. За каждую полезную привычку необходимо себя вознаграждать или сразу после делать приятную привычку. Но при этом привычка не должна расходовать на выполнение больше 2 минут. Создание места и действия для привычки реализованы отдельными эндпоинтами. После создания новой привычки, если привычка не является приятной, автоматически создается периодическая задача, которая отправляет уведомление на телеграм бота @habit_tracker_superbot с периодичностью выполнения привычки (по умолчанию каждый день) в формате "Я буду <ДЕЙСТВИЕ> в <ВРЕМЯ> в <МЕСТО>". Время указывается соответствующее времени создания привычки.

# Валидация
1. Исключен одновременный выбор связанной привычки и указания вознаграждения.
2. Время выполнения должно быть не больше 120 секунд.
3. В связанные привычки могут попадать только привычки с признаком приятной привычки.
4. У приятной привычки не может быть вознаграждения или связанной привычки.
5. Нельзя выполнять привычку реже, чем 1 раз в 7 дней.
# Пагинация
В проекте реализована пагинация для всех вывода всех мест действий и привычек по 5 объектов на страницу с возможностью изменения при указании параметра "page_size" в запросе. Максимальное количество 30 объектов на страницу.

# Права доступа
1. Ко всем действиям имеет доступ только авторизованный пользователь.
2. К получению, изменению и удалению привычки имеет доступ только персонал или создатель привычки.
3. К получению списка всех публичных привычек имеют доступ все авторизованные пользователи.
# Безопасность
В проекте реализован CORS для https://read-only.example.com

# Документация
Для получения документации запустите проект и перейдите по ссылке http://localhost:8000/docs/ или http://localhost:8000/redoc/

# Тестирование
Проект покрыт тестами на 95%. Отчет о покрытии тестами находится в файле coverage_report.txt

# Docker
Для запуска проекта с помощью docker-compose необходимо выполнить команду
1. docker-compose up
   
Докер:
1. загрузит и соберет все необходимые образы
2. запустит redis
3. запустит postgres, создаст базу данных habit_tracker и выполнит все необходимые миграции
4. запустит сервер на порту 0.0.0.0:8000
5. запустит celery worker
6. запустит celery beat

Для создания суперпользователя необходимо после запуска docker-compose выполнить команду

1. docker-compose exec app python manage.py csu
